# FOCUS & FLOW - Premium ToDo App

美しいデザインと直感的な操作性を兼ね備えた、あなただけのタスク管理アプリケーションです。
**v1.3.4: シンプルで軽快なタスク管理**

## 特徴 (Features)


*   **プレミアムデザイン**: グラスモーフィズム（すりガラス効果）と美しいグラデーションを採用したモダンなUI。
*   **タスク管理**:
    *   タスクの追加、編集、削除。
    *   サブタスク（サブゴール）の作成。
    *   優先度（Low, Medium, High）の設定。
    *   期限日（Due Date）の設定（カレンダーアイコンから選択）。
    *   繰り返しタスク（Daily Habit）の設定。
    *   **ピン留め**: 重要なタスクを常に最上部に固定。
*   **直感的な操作**:
    *   ドラッグ＆ドロップでのタスク並べ替え。
    *   完了/未完了のワンクリック切り替え。
*   **データの管理**:
    *   **データ保存**: すべてのデータはブラウザのローカルストレージに保存されます。
    *   **バックアップ**: エクスポート/インポート機能でデータのバックアップや移行が可能です。
    *   **★ファイル直接編集 (NEW)**: 「名前を付けて保存」でローカルファイルを作成すると、以降の変更が自動的にファイルへ保存されます。
*   **PWA対応**: アプリとしてインストール可能。
*   **ダークモード**: 目に優しいダークテーマへの切り替えに対応。

## 使い方 (Usage)

### ファイル直接編集モード（推奨）
1.  **保存**: 画面右上のフロッピーアイコン（名前を付けて保存）をクリックし、`my-tasks.json` などの名前でPC内に保存してください。
2.  **編集**: これで完了です。タスクを追加・変更すると自動的にそのファイルへ保存されます。
3.  **再開**: 次回からは「フォルダを開く」アイコンでそのファイルを選択してください。

### 通常の使い方
1.  **タスクの追加**:
    *   テキストボックスにタスクを入力します。
    *   必要に応じて優先度や繰り返し設定を行います。
    *   下部中央の大きな「＋」ボタン、またはEnterキーで追加します。
    *   入力欄横のカレンダーアイコンから日付を設定できます。
2.  **タスクのピン留め**:
    *   各タスクの右側にあるピンアイコンをクリックすると、リストの最上部に固定されます。
    *   もう一度クリックすると解除され、元の位置に戻ります。
3.  **タスクの編集**:
    *   タスクをクリックすると詳細編集画面が開きます。
    *   ここでサブタスクを追加することもできます。
3.  **並べ替え**:
    *   タスクをドラッグして好きな順序に入れ替えることができます（**注: 並べ替え順序は現在デバイスごとに一時的に保持されます**）。
    *   右上のソートボタンで日付順・優先度順に並べ替えることも可能です。



### 1. アプリの起動（インストール用）
1.  **`index.html`** を直接開いて利用できます。
2.  **デスクトップアプリとしてインストールしたい場合**:
    *   **`server.bat`** をダブルクリックして開いてください。
    *   ブラウザが開いたら、アドレスバー右側、または画面右上に表示される「ダウンロードアイコン（インストール）」ボタンをクリックしてください。
    *   （インストール後は `server.bat` なしで起動できます）

※ 通常利用は index.html だけでOKですが、インストール時のみサーバー経由が推奨されます。

## 技術スタック (Tech Stack)

*   HTML5
*   CSS3 (Variables, Flexbox, Grid, Glassmorphism effects)
*   Vanilla JavaScript (ES6+ Modules)

*   PWA (Manifest, Service Worker)
*   Google Fonts (Outfit)
*   Phosphor Icons

## インストール (PWA)

### デスクトップ (Chrome / Edge)
ブラウザのアドレスバーにあるインストールアイコンをクリックするか、メニューから「アプリをインストール」を選択します。

### iPhone (iOS / Safari)
1.  Safariでページを開きます。
2.  下部の「共有」ボタン（四角から矢印上）をタップ。
3.  「ホーム画面に追加」を選択。

### Android (Chrome)
1.  Chromeでページを開きます。
2.  右上のメニュー（︙）をタップ。
3.  「アプリをインストール」または「ホーム画面に追加」を選択。

## 更新履歴 (Update History)

### v1.4.0 - 2025/12/15
*   **ファイル直接編集機能**: File System Access APIを利用し、ローカルファイルへの自動保存に対応しました。

### v1.3.4 - 2025/12/15
*   **ローカルモードへの回帰**: 安定性とプライバシー重視のため、クラウド同期機能を削除し、完全なローカルストレージ運用に戻しました。
*   **インポート機能の改善**: PC移行用にJSONインポート機能を強化。

### v1.3.0 - 2025/12/15
*   **同期機能実装**: Firebase Firestoreによるリアルタイム同期を追加。
*   **データ移行**: ローカルデータをクラウドへ自動移行する機能を追加。
*   **アーキテクチャ更新**: `app.js` をES Module化し、Firebase SDKを統合。

### v1.2.4 - 2025/12/15
*   **UI一貫性の向上**:
    *   **アイコン統一**: 入力欄の優先度・リピート・カレンダーボタンを、右上のソートボタンと同じ「角丸スクエア」スタイルに統一。
    *   **優先度アイコン**: タスクリスト上の優先度表示を文字から旗アイコンに変更。
    *   **ソートアイコン**: 優先度ソートのアイコンを「！」から「旗」に変更。

### v1.2.3 - 2025/12/15
*   **優先度設定の改善**: 入力欄のスペース確保のため、ドロップダウンをサイクル式の「旗アイコン」に変更しました（Medium[橙] → High[赤] → Low[緑]）。
*   **UI調整**: 全体的な入力フォームのバランスを調整。

### v1.2.2 - 2025/12/15
*   **カレンダー位置修正**: カレンダーポップアップが画面内に収まるように表示位置を調整。
*   **ドキュメント更新**: 最新の更新内容を反映。

### v1.2.0 - 2025/12/15
*   **タスクのピン留め機能**: 重要なタスクを最上部に固定できるようになりました。
*   **アイコン修正**: ピン留め時のアイコン表示不具合を修正。
*   **PWA更新**: アプリ更新フローの最適化（即時反映）。
*   **UI改善**: ピンアイコンの常時表示（薄く表示）。

### v1.1.0 - 2025/12/15
*   **デザインリファイン**:
    *   タスクリストのコンパクト化。
    *   日付入力のアイコン化。
    *   追加ボタン（FAB）のデザイン刷新と配置変更。
    *   インポート/エクスポートアイコンの修正。

### v1.0.0 - 2025/12/14
*   **初期リリース**:
    *   基本タスク管理機能。
    *   グラスモーフィズムデザイン。
    *   ダークモード対応。
    *   PWA対応。
